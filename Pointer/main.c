#include <stdio.h>
#include <stdlib.h>
#include <Windows.h>
char data[] = {
	0x00,0x14,0x21,0x34,0x4e,0x5a,0x6c,0x73,0x8d,0x91,
	0x10,0x13,0x20,0x35,0x4a,0x54,0x6d,0x72,0x8c,0x92,
	0x25,0x12,0x23,0x35,0x4c,0x5f,0x64,0x77,0x82,0x93,
	0x30,0x14,0x20,0x33,0x45,0x55,0x62,0x71,0x84,0x96,
	0x40,0x12,0x22,0x38,0x41,0x56,0x61,0x73,0x8e,0x9a,
	0x50,0x16,0x21,0x3f,0x45,0x57,0x64,0x71,0x8f,0x9e,
	0x60,0x13,0x23,0x32,0x46,0x5e,0x65,0x7a,0x85,0x9d,
};
unsigned char code[] = {
0x55,
0x8B, 0xEC,
0x81, 0xEC, 0xC0, 0x00, 0x00, 0x00,
0x53,
0x56,
0x57,
0x8B, 0xFD,
0x33, 0xC9,
0xB8, 0xCC, 0xCC, 0xCC, 0xCC,
0xF3, 0xAB,
0xB9, 0xA2, 0x70, 0xED ,0x00,
0xE8, 0x38, 0xC3, 0xFF, 0xFF,
0x8B, 0x45, 0x08,
0x03, 0x45, 0x0C,
0x5F,
0x5E,
0x5B,
0x81, 0xC4, 0xC0 ,0x00, 0x00, 0x00,
0x3B, 0xEC,
0xE8, 0x16 ,0xB6 ,0xFF, 0xFF,
0x8B, 0xE5,
0x5D,
0xC3,
};



int Function(int x, int y) {
	return x + y;
}

int main() {
	/*char (*px)[3] = code;
	printf("%x\n", *(*(px)+1));
	printf("%x\n", px[0][1]);*/
	LPVOID px;
	if (!(px = VirtualAlloc(NULL, sizeof(code), MEM_COMMIT | MEM_RESERVE, PAGE_EXECUTE_READWRITE))) {
		printf("…Í«Îƒ⁄¥Ê ß∞‹");
	}
	memcpy(px, code, sizeof(code));
	printf("%d", (((int(_cdecl*)(int,int))px)(1,2)));
}

